<!DOCTYPE html>
<link rel="stylesheet" href="/static/bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/static/bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="/static/css/font-awesome.min.css">
<link rel="stylesheet" href="/static/css/tictactoe.css">

<html ng-app="ticTacToeApp">
<head lang="en">
  <meta charset="UTF-8">
  <title>Tic Tac Toe!</title>
</head>
<body>

{# basic bootstrap page ripped off from http://getbootstrap.com/examples/starter-template/ #}
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Tic Tac Toe</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="{{ logout_url }}">Logout</a></li>
          <li><p class="navbar-text navbar-right">Welcome, {{ username }}</p></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div ng-controller="ticTacToeCtrl">
    <button ng-hide="gameStatus === 'new'" ng-click="newGame()" ng-cloak class="btn btn-info">New game</button>
    <span ng-show="gameStatus == 'won'" ng-cloak>You lost!</span>  {# somebody (computer or human) won, and since it is impossible for a human #}
                                                                   {# to beat the computer, this means the human ("you") lost #}
    <span ng-show="gameStatus == 'tie'" ng-cloak>It's a tie!</span>
    <br>
    <div class="container">
      <table class="table table-bordered text-center center-block">
        <tr>
          <td ng-click="cellClicked(0, 0)"><i ng-class="getClassForCell(0, 0)"></i></td>
          <td ng-click="cellClicked(1, 0)"><i ng-class="getClassForCell(1, 0)"></i></td>
          <td ng-click="cellClicked(2, 0)"><i ng-class="getClassForCell(2, 0)"></i></td>
        </tr>
        <tr>
          <td ng-click="cellClicked(0, 1)"><i ng-class="getClassForCell(0, 1)"></i></td>
          <td ng-click="cellClicked(1, 1)"><i ng-class="getClassForCell(1, 1)"></i></td>
          <td ng-click="cellClicked(2, 1)"><i ng-class="getClassForCell(2, 1)"></i></td>
        </tr>
        <tr>
          <td ng-click="cellClicked(0, 2)"><i ng-class="getClassForCell(0, 2)"></i></td>
          <td ng-click="cellClicked(1, 2)"><i ng-class="getClassForCell(1, 2)"></i></td>
          <td ng-click="cellClicked(2, 2)"><i ng-class="getClassForCell(2, 2)"></i></td>
        </tr>
      </table>
    </div>
  </div>
<div class="modal modal-dialog" id="myModal">
  <i ng-cloak class="fa fa-spinner fa-spin fa-5x"></i>
</div>
</body>
<script type="application/javascript" src="/static/bower_components/jquery/dist/jquery.min.js"></script>
<script type="application/javascript" src="/static/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="application/javascript" src="/static/bower_components/angularjs/angular.js"></script> {# for production, switch to angular.min.js #}
<script type="application/javascript" src="/static/js/tictactoe.js"></script>
</html>
